// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import t from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-property@esm/index.mjs";function n(t){return i(this,"next",{configurable:!1,enumerable:!0,get:function(){return this._next}}),this.value=t,i(this,"_next",{configurable:!1,enumerable:!1,writable:!0,value:null}),i(this,"_prev",{configurable:!1,enumerable:!1,writable:!0,value:null}),this}function h(){return this instanceof h?(this._length=0,this._first=null,this._last=null,this):new h}e(h.prototype,"clear",(function(){return this._length=0,this._first=null,this._last=null,this})),e(h.prototype,"first",(function(){if(this._length)return this._first})),e(h.prototype,"insert",(function(e,r){var s;if(e===this._last)return this.push(r);for(s=this._first;s!==this._last&&s!==e;)s=s._next;if(s===this._last)throw new Error(t("0kR1o"));return s=new n(r),e._next._prev=s,s._next=e._next,e._next=s,s._prev=e,this._length+=1,this})),e(h.prototype,"iterator",(function(){var t,r,i,n,h;return i=this,h=-1,t=this.toArray(),e(r={},"next",(function(){if(h+=1,n||h>=t.length)return{done:!0};return{value:t[h],done:!1}})),e(r,"return",(function(t){if(n=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),s&&e(r,s,(function(){return i.iterator()})),r})),e(h.prototype,"last",(function(){if(this._length)return this._last})),r(h.prototype,"length",(function(){return this._length})),e(h.prototype,"pop",(function(){var t;return this._length&&(t=this._last.value,this._last._prev?(this._last=this._last._prev,this._last._next=null):(this._first=null,this._last=null),this._length-=1),t})),e(h.prototype,"push",(function(t){var e;return e=new n(t),0===this._length?(this._first=e,this._last=e):(e._prev=this._last,this._last._next=e,this._last=e),this._length+=1,this})),e(h.prototype,"remove",(function(e){var r,s;if(e===this._first)return this.shift();if(e===this._last)return this.pop();for(r=e.value,s=this._first;s!==this._last&&s!==e;)s=s._next;if(s===this._last)throw new Error(t("0kR1o"));return e._prev._next=e._next,e._next._prev=e._prev,this._length-=1,r})),e(h.prototype,"shift",(function(){var t;return this._length&&(t=this._first.value,this._first._next?(this._first=this._first._next,this._first._prev=null):(this._first=null,this._last=null),this._length-=1),t})),e(h.prototype,"toArray",(function(){var t,e,r;for(e=[],t=this._first,r=0;r<this._length;r++)e.push(t.value),t=t.next;return e})),e(h.prototype,"toJSON",(function(){var t={type:"linked-list"};return t.data=this.toArray(),t})),e(h.prototype,"unshift",(function(t){var e;return e=new n(t),0===this._length?(this._first=e,this._last=e):(e._next=this._first,this._first._prev=e,this._first=e),this._length+=1,this}));export{h as default};
//# sourceMappingURL=index.mjs.map
